{% extends "layout/base.html" %}

{% block content %}
	
	{# si le profil demandé n'existe pas#}
	{% if error %}
		{{ error }}
		<strong>{{ requested_user }}</strong>
	{% else %}
		{{ user.id }}
		{{user_to_display.id}}
		{# si le user connecté est le même que le profil affiché, il peut modifier son profil#}
		{% ifequal user.id user_to_display.id %}
			<a  id="edit_profile_link" href="/user/edit-profile">Edit my profile</a><br/>
		{% endifequal %}
		
		{# Pseudo de la personne #}
		{{  user_to_display.get_profile.user.username }}
		<br/>
		
		{# Dans le doute, l'email je me r'apelle plus si on l'affiche #}
		{{  user_to_display.get_profile.user.email }}
		<br/>
		
		{# l'url de l'img #}
		{{  user_to_display.get_profile.avatar }}
		<br/>
		
		{# Nombre de points #}
		{{  user_to_display.get_profile.points }}
		<br/>
		
		{# Je suggère une petite soustraction sur la date de naissance et la date actuelle pour afficher l'âge et pas forcement la date entiere#}
		{{  user_to_display.get_profile.dateNaissance }}
		<br/>
		
		{# Pays d'origine #}
		{{  user_to_display.get_profile.pays }}
		<br/>
		
		{# un IF pour déterminer si masculin ou feminin, j'ai mis du texte, je sais pas encore si ce sera un picto mais l'idée est là#}
		{% if user_to_display.get_profile.sexeM %}
			<p>Masculin</p>
		{% else %}
			<p>Feminin</p>
		{% endif %}
		
		{# Liste des defis releves #}
	    {% for d_rel in defis_releves %}
	        {{ d_rel.titre }}
			{{ d_rel.description }}
			{{ d_rel.debut }}
			{{ d_rel.fin }}
		    {{ d_rel.photo }}
			{{ d_rel.liste }}    
			{{ d_rel.difficulte }}
			{{ d_rel.categorie }}
	        <br/>
	    {% endfor %}
	    
		{# Liste des defis crees #}
	    {% for d_cre in defis_crees %}
	        {{ d_cre.titre }}
			{{ d_cre.description }}
			{{ d_cre.debut }}
			{{ d_cre.fin }}
		    {{ d_cre.photo }}
			{{ d_cre.liste }}    
			{{ d_cre.difficulte }}
			{{ d_cre.categorie }}
	        <br/>
	    {% endfor %}
	    
		{# Liste des badges remportés #}
	    {% for b in badges %}
	    	{{ b.photo }}
	        {{ b.titre }}
	        <br/>
	    {% endfor %}
	{% endif %}
{% endblock %}